## REGISTER — регистрация URI клиента на сервере регистрации;

SIP (Session Initiation Protocol) REGISTER - это запрос, отправляемый клиентом (например, SIP-телефоном) к серверу регистрации, чтобы зарегистрировать свой SIP-адрес (SIP URI) и указать, что он доступен для приема входящих вызовов. Запрос REGISTER состоит из нескольких заголовков и может содержать необязательное тело сообщения. Вот пример SIP REGISTER запроса:

```
REGISTER sip:example.com SIP/2.0
Via: SIP/2.0/UDP 192.0.2.100;branch=z9hG4bK12345678
Max-Forwards: 70
From: <sip:alice@example.com>;tag=1234567890
To: <sip:alice@example.com>
Call-ID: 9876543210@192.0.2.100
CSeq: 1 REGISTER
Contact: <sip:alice@192.0.2.100>
Expires: 3600
User-Agent: My SIP Phone
```

Каждый заголовок в запросе REGISTER выполняет определенную функцию, например:

- Via - содержит информацию о маршрутизации SIP-сообщений
- Max-Forwards - ограничивает количество пересылок SIP-сообщения
- From - указывает SIP-адрес отправителя запроса и его тег
- To - указывает SIP-адрес получателя запроса
- Call-ID - уникальный идентификатор вызова
- CSeq - порядковый номер и тип запроса
- Contact - SIP-адрес, по которому может быть связан клиент
- Expires - время, на которое регистрируется SIP-адрес
- User-Agent - тип программного обеспечения, используемого клиентом

Тело сообщения в запросе REGISTER может содержать дополнительную информацию, такую как список поддерживаемых кодеков, а также параметры настройки SIP-телефона. Однако, тело запроса не является обязательным для отправки запроса REGISTER.

## INVITE — инициализация протокола для установления сеанса;

SIP (Session Initiation Protocol) INVITE - это запрос, отправляемый клиентом (например, SIP-телефоном) к серверу, чтобы установить новый сеанс связи. Запрос INVITE состоит из нескольких заголовков и может содержать необязательное тело сообщения. Вот пример SIP INVITE запроса:

```
INVITE sip:bob@domain.com SIP/2.0
Via: SIP/2.0/UDP 192.0.2.100;branch=z9hG4bK12345678;rport
Max-Forwards: 70
From: <sip:alice@domain.com>;tag=1234567890
To: <sip:bob@domain.com>
Call-ID: 9876543210@192.0.2.100
CSeq: 1 INVITE
Contact: <sip:alice@192.0.2.100>
Authorization: Digest username="alice",realm="domain.com",nonce="xyz123",uri="sip:bob@domain.com",response="abc456"
Content-Type: application/sdp
Content-Length: 150

v=0
o=alice 2890844526 2890842807 IN IP4 192.0.2.100
s=-
c=IN IP4 192.0.2.100
t=0 0
m=audio 49170 RTP/AVP 0
a=rtpmap:0 PCMU/8000
```

Каждый заголовок в запросе INVITE выполняет определенную функцию, например:

- Via - содержит информацию о маршрутизации SIP-сообщений
- Max-Forwards - ограничивает количество пересылок SIP-сообщения
- From - указывает SIP-адрес отправителя запроса и его тег
- To - указывает SIP-адрес получателя запроса
- Call-ID - уникальный идентификатор вызова
- CSeq - порядковый номер и тип запроса
- Contact - SIP-адрес, по которому может быть связан клиент
- Authorization - информация для аутентификации клиента на сервере
- Content-Type - тип содержимого тела сообщения
- Content-Length - длина тела сообщения

Тело сообщения в запросе INVITE содержит информацию о сеансе связи, которую клиент передает серверу. Тип содержимого тела сообщения SIP INVITE может быть различным, в зависимости от используемых кодеков и других параметров сеанса связи. В данном случае, тело сообщения содержит информацию в формате SDP (Session Description Protocol), которая описывает параметры сеанса связи, такие как тип кодека и IP-адрес и порт, используемые для передачи звука.

Обратите внимание, что запрос INVITE в SIP-протоколе не является обязательным для установления сеанса связи. В зависимости от конфигурации SIP-сети, сеанс связи может быть установлен и другими способами, такими как запросы MESSAGE или NOTIFY.

## ACK — подтверждение инициализации сеанса со стороны клиента;

SIP (Session Initiation Protocol) ACK - это ответ, который отправляет клиент в ответ на успешно установленное соединение, чтобы подтвердить получение ответа 2xx от сервера. Запрос ACK состоит из нескольких заголовков и не содержит тела сообщения. Вот пример SIP ACK запроса:

```
ACK sip:bob@domain.com SIP/2.0
Via: SIP/2.0/UDP 192.0.2.100;branch=z9hG4bK12345678;rport
Max-Forwards: 70
From: <sip:alice@domain.com>;tag=1234567890
To: <sip:bob@domain.com>;tag=5678901234
Call-ID: 9876543210@192.0.2.100
CSeq: 1 ACK
```

Каждый заголовок в запросе ACK выполняет определенную функцию, например:

- Via - содержит информацию о маршрутизации SIP-сообщений
- Max-Forwards - ограничивает количество пересылок SIP-сообщения
- From - указывает SIP-адрес отправителя запроса и его тег
- To - указывает SIP-адрес получателя запроса и его тег
- Call-ID - уникальный идентификатор вызова
- CSeq - порядковый номер и тип запроса

Запрос ACK отправляется после того, как клиент получил успешный ответ 2xx от сервера (например, 200 OK в ответ на запрос INVITE). Запрос ACK подтверждает получение ответа и завершает процесс установки соединения. Он также может содержать информацию о маршрутизации SIP-сообщений, если клиент хочет указать конкретный маршрут для следующих SIP-сообщений.

Обратите внимание, что запрос ACK не является обязательным для установления соединения в SIP-протоколе. Некоторые SIP-системы (например, SIP-прокси-серверы) могут автоматически отправлять запрос ACK в ответ на успешный ответ 2xx от сервера, так что клиенту не нужно отправлять его вручную. Однако, в некоторых случаях (например, в случае настройки SIP-системы с помощью пользовательского кода) клиент может быть ответственным за отправку запроса ACK для завершения процесса установки соединения.

## BYE — завершение сеанса;

Запрос BYE в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также уникальный идентификатор вызова, и не содержит тела сообщения. 

Конкретно для запроса BYE заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (BYE) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Запрос BYE отправляется клиентом для завершения сеанса связи, который был установлен ранее с помощью запроса INVITE. После получения запроса BYE сервер завершает сеанс и отправляет в ответ клиенту сообщение 200 OK, которое подтверждает успешное завершение сеанса.

## CANCEL — отмена любого ожидающего запроса;

Запрос CANCEL в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также уникальный идентификатор вызова, и не содержит тела сообщения.

Конкретно для запроса CANCEL заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (CANCEL) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога, который нужно отменить.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Запрос CANCEL отправляется клиентом для отмены запроса INVITE, который был отправлен ранее, и который еще не был обработан сервером. При получении запроса CANCEL сервер прекращает обработку запроса INVITE и отправляет в ответ клиенту сообщение 200 OK, которое подтверждает отмену запроса INVITE.

## UPDATE — изменение состояния сеанса без изменения диалога;

Запрос UPDATE в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также о желаемых изменениях в сеансе связи, и может содержать тело сообщения, которое содержит определенную информацию о сеансе связи.

Конкретно для запроса UPDATE заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (UPDATE) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Тело сообщения запроса UPDATE может содержать информацию об изменениях, которые требуется внести в текущий сеанс связи. Например, это может быть информация о новом видео-кодеке, которым требуется использовать в текущей сессии связи.

Запрос UPDATE отправляется клиентом для обновления параметров текущего сеанса связи. Он может быть использован для изменения параметров сеанса связи, например, для добавления или удаления медиапотоков, изменения параметров видео или аудио кодеков, изменения параметров качества связи и т.д. После получения запроса UPDATE сервер обрабатывает его и отправляет в ответ клиенту сообщение 200 OK, которое подтверждает успешное обновление параметров сеанса связи.

## REFER —  запрос на оформление переадресации;

Запрос REFER в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также об информации о субъекте, на которого требуется сделать переадресацию, и не содержит тела сообщения.

Конкретно для запроса REFER заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (REFER) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Запрос REFER отправляется клиентом для переадресации субъекта на другой адрес. Например, это может быть запрос на переадресацию вызова на другой SIP-адрес или на телефонный номер PSTN. После получения запроса REFER сервер выполняет переадресацию субъекта на указанный адрес и отправляет в ответ клиенту сообщение 202 Accepted, которое подтверждает успешную обработку запроса. 

Запрос REFER может также содержать дополнительные заголовки, которые содержат информацию о субъекте переадресации, например, заголовок "Refer-To", который указывает на новый адрес, на который требуется переадресовать вызов.

## PRACK — предварительное (временное) подтверждение;

Запрос PRACK (Provisional ACKnowledgment) в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также об информации о предварительном ответе сервера, который требуется подтвердить, и не содержит тела сообщения.

Конкретно для запроса PRACK заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (PRACK) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Запрос PRACK отправляется клиентом для подтверждения предварительного ответа сервера, который содержит статус 1xx (например, 100 Trying, 180 Ringing и т.д.). После получения запроса PRACK сервер подтверждает получение предварительного ответа и отправляет в ответ клиенту сообщение 200 OK, которое подтверждает успешную обработку запроса.

Запрос PRACK может быть использован, например, в следующих сценариях:

1. Когда клиент отправляет запрос INVITE и получает предварительный ответ "100 Trying", он может отправить запрос PRACK для подтверждения получения этого ответа.

2. Когда сервер отправляет клиенту предварительный ответ "183 Session Progress" с информацией о звуковом сигнале или информацией о том, что вызываемый абонент пока не ответил на вызов, клиент может отправить запрос PRACK для подтверждения получения этого ответа и начала проигрывания звукового сигнала.

3. Когда сервер отправляет клиенту несколько последовательных предварительных ответов с информацией о состоянии вызова (например, 100 Trying, 180 Ringing, 200 OK), клиент может отправить запрос PRACK для подтверждения получения каждого из этих ответов.

## SUBSCRIBE — подписка на уведомления о событии;

Запрос SUBSCRIBE в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также о желаемых изменениях в состоянии ресурса, на который требуется подписаться.

Конкретно для запроса SUBSCRIBE заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (SUBSCRIBE) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Запрос SUBSCRIBE отправляется клиентом для подписки на изменение состояния ресурса, например, на изменение состояния другого абонента или на изменение состояния определенного сервиса. После получения запроса SUBSCRIBE сервер обрабатывает его и начинает отправлять клиенту уведомления NOTIFY, содержащие информацию о состоянии ресурса, на который клиент подписался. Если состояние ресурса изменится, сервер отправит клиенту уведомление NOTIFY, чтобы клиент мог обновить свою информацию.

Запрос SUBSCRIBE может содержать дополнительные заголовки, которые определяют, на какой ресурс клиент подписывается и какие изменения в состоянии ресурса он хочет отслеживать. Некоторые из таких заголовков могут включать:

- Event: определяет тип события, на которое клиент подписывается, например, "presence" для изменения состояния присутствия.
- Expires: определяет время, на которое клиент подписывается на изменения состояния ресурса.
- Contact: указывает адрес и порт, на который сервер должен отправлять уведомления NOTIFY. 

Запрос SUBSCRIBE может также содержать тело сообщения, которое содержит дополнительную информацию о ресурсе, на который клиент подписывается, например, информацию о том, какие атрибуты состояния требуется отслеживать.

## NOTIFY — сообщение подписчику о произошедшем событии;

Ответ NOTIFY в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также о состоянии ресурса, на который клиент подписался.

Конкретно для ответа NOTIFY заголовки сообщения могут включать следующие поля:

- Status-Line: определяет статус ответа (200 OK) и SIP-URI, на который отправляется ответ.
- To: указывает адрес получателя ответа. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя ответа. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Ответ NOTIFY отправляется сервером в ответ на запрос SUBSCRIBE от клиента. Он содержит информацию о состоянии ресурса, на который клиент подписался, и отправляется каждый раз, когда состояние ресурса изменяется.

Ответ NOTIFY может содержать заголовки, которые определяют тип события, на которое сервер отправляет уведомление, и какие изменения произошли в состоянии ресурса. Некоторые из таких заголовков могут включать:

- Event: определяет тип события, на которое отправляется уведомление, например, "presence" для изменения состояния присутствия.
- Subscription-State: определяет состояние подписки, например, "active" для активной подписки или "terminated" для завершенной подписки.
- Expires: определяет время, на которое клиент подписался на изменения состояния ресурса.
- Contact: указывает адрес и порт, на который клиент может отправлять запросы.

Ответ NOTIFY может также содержать тело сообщения, которое содержит дополнительную информацию о состоянии ресурса, на который клиент подписался, например, информацию о том, какие атрибуты состояния изменились.

## PUBLISH — публикация сообщения на сервере;

Запрос PUBLISH в протоколе SIP состоит из заголовков сообщения, которые содержат информацию о клиенте, получателе и сеансе связи, а также о состоянии ресурса, которое клиент хочет опубликовать.

Конкретно для запроса PUBLISH заголовки сообщения могут включать следующие поля:

- Request-Line: определяет тип запроса (PUBLISH) и SIP-URI, на который отправляется запрос.
- To: указывает адрес получателя сообщения. В поле To также может быть указан тег, который позволяет идентифицировать диалог.
- From: указывает адрес отправителя сообщения. В поле From также может быть указан тег, который позволяет идентифицировать диалог.
- Call-ID: уникальный идентификатор вызова, который используется для идентификации диалога.
- CSeq: порядковый номер запроса в рамках диалога.
- Max-Forwards: количество промежуточных узлов, которые могут обработать запрос.
- Via: содержит информацию о промежуточных узлах, через которые проходит запрос.

Запрос PUBLISH отправляется клиентом для публикации информации о состоянии ресурса, например, о своем текущем состоянии присутствия или об изменениях в статусе своей доступности. После получения запроса PUBLISH сервер обрабатывает его и отправляет уведомления NOTIFY, содержащие информацию о состоянии ресурса, на который клиент опубликовал информацию.

Запрос PUBLISH может содержать дополнительные заголовки, которые определяют, какая информация о состоянии ресурса будет опубликована и каким образом она будет представлена. Некоторые из таких заголовков могут включать:

- Event: определяет тип события, на которое клиент публикует информацию, например, "presence" для опубликования информации о состоянии присутствия.
- Content-Type: определяет тип содержимого, который используется для представления информации о состоянии ресурса.
- Expires: определяет время, на которое клиент публикует информацию о состоянии ресурса.

Запрос PUBLISH может также содержать тело сообщения, которое содержит информацию о состоянии ресурса, на который клиент публикует информацию. Тело сообщения может быть представлено в разных форматах, в зависимости от типа содержимого, указанного в заголовке Content-Type.

## MESSAGE — отправка текстового сообщения;
## INFO — информация о сеансе, без его модификации;
## OPTIONS — запрос информации о функциональности сервера.